{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GGPC\\\\Desktop\\\\GitUploads\\\\ISCG7420Assignment2\\\\conference-app\\\\frontend\\\\src\\\\components\\\\ManageRooms.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Table, Button, Spinner, Alert } from 'react-bootstrap';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManageRooms = () => {\n  _s();\n  const navigate = useNavigate();\n  const [rooms, setRooms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const fetchRooms = async () => {\n    try {\n      const response = await axios.get('http://localhost:8000/api/rooms/');\n      setRooms(response.data);\n    } catch (error) {\n      console.error('Error fetching rooms:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchRooms();\n  }, []);\n  const handleEdit = roomId => {\n    navigate(`/admin/create-room/${roomId}`);\n  };\n  const handleDelete = async roomId => {\n    if (!window.confirm('Are you sure you want to delete this room?')) return;\n    try {\n      await axios.delete(`http://localhost:8000/api/rooms/${roomId}/`);\n      // Update rooms state safely\n      setRooms(prevRooms => prevRooms.filter(room => room.id !== roomId));\n      setMessage('Room deleted successfully!');\n      // Clear message after 3 seconds\n      setTimeout(() => setMessage(''), 3000);\n    } catch (error) {\n      console.error('Error deleting room:', error);\n      setMessage('Error deleting room.');\n      setTimeout(() => setMessage(''), 3000);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '50px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), \" Loading rooms...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [message && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: message.includes('successfully') ? 'success' : 'danger',\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Manage Rooms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: () => navigate('/admin/create-room'),\n        children: \"Add New Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), rooms.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: \"No rooms found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Capacity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: room.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: room.capacity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: room.location || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"warning\",\n              size: \"sm\",\n              className: \"me-2\",\n              onClick: () => handleEdit(room.id),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              size: \"sm\",\n              onClick: () => handleDelete(room.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this)]\n        }, room.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageRooms, \"zh7+SMOiaw6EQsm+/L9UIZgXqMg=\", false, function () {\n  return [useNavigate];\n});\n_c = ManageRooms;\nexport default ManageRooms;\nvar _c;\n$RefreshReg$(_c, \"ManageRooms\");","map":{"version":3,"names":["React","useState","useEffect","Table","Button","Spinner","Alert","axios","useNavigate","jsxDEV","_jsxDEV","ManageRooms","_s","navigate","rooms","setRooms","loading","setLoading","message","setMessage","fetchRooms","response","get","data","error","console","handleEdit","roomId","handleDelete","window","confirm","delete","prevRooms","filter","room","id","setTimeout","style","textAlign","padding","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","variant","includes","display","justifyContent","alignItems","marginBottom","onClick","length","striped","bordered","hover","responsive","map","name","capacity","location","size","className","_c","$RefreshReg$"],"sources":["C:/Users/GGPC/Desktop/GitUploads/ISCG7420Assignment2/conference-app/frontend/src/components/ManageRooms.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Table, Button, Spinner, Alert } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst ManageRooms = () => {\r\n  const navigate = useNavigate();\r\n  const [rooms, setRooms] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const fetchRooms = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8000/api/rooms/');\r\n      setRooms(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching rooms:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRooms();\r\n  }, []);\r\n\r\n  const handleEdit = (roomId) => {\r\n    navigate(`/admin/create-room/${roomId}`);\r\n  };\r\n\r\n  const handleDelete = async (roomId) => {\r\n    if (!window.confirm('Are you sure you want to delete this room?')) return;\r\n\r\n    try {\r\n      await axios.delete(`http://localhost:8000/api/rooms/${roomId}/`);\r\n      // Update rooms state safely\r\n      setRooms(prevRooms => prevRooms.filter(room => room.id !== roomId));\r\n      setMessage('Room deleted successfully!');\r\n      // Clear message after 3 seconds\r\n      setTimeout(() => setMessage(''), 3000);\r\n    } catch (error) {\r\n      console.error('Error deleting room:', error);\r\n      setMessage('Error deleting room.');\r\n      setTimeout(() => setMessage(''), 3000);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '50px' }}>\r\n        <Spinner animation=\"border\" /> Loading rooms...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {message && <Alert variant={message.includes('successfully') ? 'success' : 'danger'}>{message}</Alert>}\r\n\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n        <h3>Manage Rooms</h3>\r\n        <Button variant=\"primary\" onClick={() => navigate('/admin/create-room')}>\r\n          Add New Room\r\n        </Button>\r\n      </div>\r\n\r\n      {rooms.length === 0 ? (\r\n        <div style={{ textAlign: 'center', padding: '20px' }}>No rooms found.</div>\r\n      ) : (\r\n        <Table striped bordered hover responsive>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Capacity</th>\r\n              <th>Location</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rooms.map(room => (\r\n              <tr key={room.id}>\r\n                <td>{room.name}</td>\r\n                <td>{room.capacity}</td>\r\n                <td>{room.location || 'N/A'}</td>\r\n                <td>\r\n                  <Button\r\n                    variant=\"warning\"\r\n                    size=\"sm\"\r\n                    className=\"me-2\"\r\n                    onClick={() => handleEdit(room.id)}\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"danger\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleDelete(room.id)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageRooms;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}