{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GGPC\\\\Desktop\\\\GitUploads\\\\ISCG7420Assignment2\\\\conference-app\\\\frontend\\\\src\\\\components\\\\ManageRooms.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Table, Button, Spinner, Alert } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport { getRooms } from '../services/api'; // your API helper\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManageRooms = () => {\n  _s();\n  const navigate = useNavigate();\n  const [rooms, setRooms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n\n  // Fetch rooms\n  const fetchRooms = async () => {\n    try {\n      const response = await getRooms();\n      setRooms(response.data);\n    } catch (error) {\n      console.error('Error fetching rooms:', error);\n      setMessage('Error fetching rooms.');\n      setTimeout(() => setMessage(''), 3000);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchRooms();\n  }, []);\n\n  // Navigate to edit room\n  const handleEdit = roomId => {\n    navigate(`/admin/edit-room/${roomId}`);\n  };\n\n  // Delete room\n  const handleDelete = async roomId => {\n    if (!window.confirm('Are you sure you want to delete this room?')) return;\n    try {\n      await axios.delete(`http://localhost:8000/api/rooms/${roomId}/`);\n      setRooms(prev => prev.filter(room => room.id !== roomId));\n      setMessage('Room deleted successfully!');\n      setTimeout(() => setMessage(''), 3000);\n    } catch (error) {\n      console.error('Error deleting room:', error);\n      setMessage('Error deleting room. Check your permissions.');\n      setTimeout(() => setMessage(''), 3000);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '50px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), \" Loading rooms...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [message && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: message.includes('successfully') ? 'success' : 'danger',\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Manage Rooms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: () => navigate('/admin/create-room'),\n        children: \"Add New Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), rooms.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: \"No rooms found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Capacity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: room.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: room.capacity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: room.location || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"warning\",\n              size: \"sm\",\n              className: \"me-2\",\n              onClick: () => handleEdit(room.id),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              size: \"sm\",\n              onClick: () => handleDelete(room.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this)]\n        }, room.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageRooms, \"zh7+SMOiaw6EQsm+/L9UIZgXqMg=\", false, function () {\n  return [useNavigate];\n});\n_c = ManageRooms;\nexport default ManageRooms;\nvar _c;\n$RefreshReg$(_c, \"ManageRooms\");","map":{"version":3,"names":["React","useState","useEffect","Table","Button","Spinner","Alert","useNavigate","getRooms","axios","jsxDEV","_jsxDEV","ManageRooms","_s","navigate","rooms","setRooms","loading","setLoading","message","setMessage","fetchRooms","response","data","error","console","setTimeout","handleEdit","roomId","handleDelete","window","confirm","delete","prev","filter","room","id","style","textAlign","padding","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","variant","includes","display","justifyContent","alignItems","marginBottom","onClick","length","striped","bordered","hover","responsive","map","name","capacity","location","size","className","_c","$RefreshReg$"],"sources":["C:/Users/GGPC/Desktop/GitUploads/ISCG7420Assignment2/conference-app/frontend/src/components/ManageRooms.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Table, Button, Spinner, Alert } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getRooms } from '../services/api'; // your API helper\r\nimport axios from 'axios';\r\n\r\nconst ManageRooms = () => {\r\n  const navigate = useNavigate();\r\n  const [rooms, setRooms] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [message, setMessage] = useState('');\r\n\r\n  // Fetch rooms\r\n  const fetchRooms = async () => {\r\n    try {\r\n      const response = await getRooms();\r\n      setRooms(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching rooms:', error);\r\n      setMessage('Error fetching rooms.');\r\n      setTimeout(() => setMessage(''), 3000);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRooms();\r\n  }, []);\r\n\r\n  // Navigate to edit room\r\n  const handleEdit = (roomId) => {\r\n    navigate(`/admin/edit-room/${roomId}`);\r\n  };\r\n\r\n  // Delete room\r\n  const handleDelete = async (roomId) => {\r\n    if (!window.confirm('Are you sure you want to delete this room?')) return;\r\n\r\n    try {\r\n      await axios.delete(`http://localhost:8000/api/rooms/${roomId}/`);\r\n      setRooms(prev => prev.filter(room => room.id !== roomId));\r\n      setMessage('Room deleted successfully!');\r\n      setTimeout(() => setMessage(''), 3000);\r\n    } catch (error) {\r\n      console.error('Error deleting room:', error);\r\n      setMessage('Error deleting room. Check your permissions.');\r\n      setTimeout(() => setMessage(''), 3000);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '50px' }}>\r\n        <Spinner animation=\"border\" /> Loading rooms...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {message && (\r\n        <Alert variant={message.includes('successfully') ? 'success' : 'danger'}>\r\n          {message}\r\n        </Alert>\r\n      )}\r\n\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n        <h3>Manage Rooms</h3>\r\n        <Button variant=\"primary\" onClick={() => navigate('/admin/create-room')}>\r\n          Add New Room\r\n        </Button>\r\n      </div>\r\n\r\n      {rooms.length === 0 ? (\r\n        <div style={{ textAlign: 'center', padding: '20px' }}>No rooms found.</div>\r\n      ) : (\r\n        <Table striped bordered hover responsive>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Capacity</th>\r\n              <th>Location</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rooms.map(room => (\r\n              <tr key={room.id}>\r\n                <td>{room.name}</td>\r\n                <td>{room.capacity}</td>\r\n                <td>{room.location || 'N/A'}</td>\r\n                <td>\r\n                  <Button variant=\"warning\" size=\"sm\" className=\"me-2\" onClick={() => handleEdit(room.id)}>\r\n                    Edit\r\n                  </Button>\r\n                  <Button variant=\"danger\" size=\"sm\" onClick={() => handleDelete(room.id)}>\r\n                    Delete\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageRooms;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}